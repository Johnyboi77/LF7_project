 '''
Commands:
node-red --version

Projekt
>>Effektiver Lernen:

-SchrittzÃ¤hler an Person - FÃ¼tterung datenbank & RÃ¼ckmeldung (Iot) Ã¼ber zurÃ¼ckgelegte Strecke, ggf kcal verbrauch etc, hauptsache einfach --> Feedback - mit Telegram oder Discord versenden
-Startknopf (timer von 30min lÃ¤uft- Arbeitseit)
-Pauseknopf (10min Pauseknopf)
ggf -Resetknopf (Bei Fehlerhaftem BetÃ¤tigen)
-Buzzer wenn Timer ablÃ¤uft /bei Pausenablauf und Beginn RÃ¼ckmeldung an Handy /Push Naxchricht
-Co2 MessgerÃ¤t (gibt Ton durch Buzzer wieder alÃ¡ LÃ¼fte Mal!)

'''

# Die Maker Plate hat eigene Pin-Mappings!
# Schau auf die Beschriftung deines unteren Boards

# BEISPIEL (musst du anpassen an deine Beschriftung):
BUTTON_START = "D0"   # Erster Button links
BUTTON_PAUSE = "D1"   # Mittlerer Button
BUTTON_RESET = "D2"   # Dritter Button

BUZZER = "D3"         # Der Buzzer

LED_WORK = "D4"       # GrÃ¼ne LED
LED_PAUSE = "D5"      # Gelbe LED

# I2C fÃ¼r CO2 Sensor (standardmÃ¤ÃŸig)
I2C_SDA = GPIO 2
I2C_SCL = GPIO 3


# Schritt 3: CO2-Sensor anschlieÃŸen
Am unteren Board sollte I2C sein (meist beschriftet mit SDA/SCL)

# Baum anzeigen
cd /mnt/c/Users/knigh/LF7_project && tree -L 6 -I 'node_modules|.next|.git|dist|build'

VOC and eCO2 Gas Sensor (SKU: 101020512)
    Chip: Wahrscheinlich SGP30 oder CCS811
    Schnittstelle: I2C
    Misst: VOC (Volatile Organic Compounds) + eCO2 (equivalent CO2)
    --> Wichtig: Dies ist ein eCO2-Sensor (berechnet aus VOC), kein echter CO2-Sensor wie der SCD30!

Step Counter (SKU: 101020583)
    Chip: Wahrscheinlich BMA400 (3-Achsen Beschleunigungssensor)
    Schnittstelle: I2C
    Misst: Schritte, AktivitÃ¤t, Neigung


Wichtig fÃ¼r Installationen

# 1. Gehe in dein Projektverzeichnis
cd /mnt/c/Users/knigh/LF7_project

# 2. Aktiviere das Virtual Environment
source ~/grove_env/bin/activate


    Ablauf
1. ðŸŽ® Button 1 kurz drÃ¼cken
   â†’ ðŸŽ“ Session startet automatisch
   â†’ ðŸ“± Discord: "Hey Alicia! Deine Lerneinheit wurde gestartet!"
   â†’ ðŸŸ¦ 30min Arbeitszeit lÃ¤uft

2. â° Nach 30 Min
   â†’ ðŸ”Š Langer Piepton
   â†’ ðŸ“± Discord: "Deine 30-Minuten Lernphase ist vorbei!"

3. ðŸŽ® Button 2 kurz drÃ¼cken
   â†’ ðŸŸ© 10min Pause lÃ¤uft

4. â° Nach 10 Min
   â†’ ðŸ”Š Langer Piepton
   â†’ ðŸ“± Discord: "Deine Pause ist abgelaufen!"

5. ... weitere Lern-/Pausezyklen ...

6. ðŸŽ® Button 1 fÃ¼r 5+ Sekunden halten
   â†’ ðŸ›‘ Session beendet
   â†’ ðŸ“Š Report im Terminal + Discord:
      "Session-Report fÃ¼r Alicia
       Lernzeit: 90 Min
       Pausenzeit: 30 Min
       eCO2 Durchschnitt: 542 ppm
       Schritte: 1.247
       Tolle Arbeit! ðŸŽ‰"


Pi Top einrichten (32 System1)

#1  Verbindung per ssh 
ssh pi@192.168.0.53

# 2 Auf Pi Top zu Projekt Nvagieren

   # Jetzt bist du auf dem PiTop!
   cd ~/LF7_project

   # PrÃ¼fe ob alle Dateien da sind:
   pi@pi-top:~/LF7_project $ ls -la

# Du solltest sehen:
# test_einzeln/
# hardware/
# services/
# database/
# mock_hardware/
# config.py
# etc.

   # Virtual Environment erstellen:
   pi@pi-top:~/LF7_project $ python3 -m venv venv
   pi@pi-top:~/LF7_project $ source venv/bin/activate

   # Dependencies installieren:
   (venv) pi@pi-top:~/LF7_project $ pip3 install --upgrade pip
   (venv) pi@pi-top:~/LF7_project $ pip3 install RPi.GPIO

   # Falls requirements.txt vorhanden:
   (venv) pi@pi-top:~/LF7_project $ pip3 install -r requirements.txt

   # Nur wichtige Ordner auf PiTop Kopieren
   scp -r hardware services database config.py requirements.txt pi@192.168.0.53:~/LF7_project/

# PITOP KONFIGURATION :

cd /mnt/c/Users/knigh/LF7_project

# PrÃ¼fe welche Ordner existieren:
ls -la

# Ãœbertrage alles:
scp -r * pi@192.168.0.53:~/LF7_project/
# PW: pi-top

# ===== WECHSEL ZUM PITOP =====
# 2. SSH zum PiTop:
ssh pi@192.168.0.53

# ===== AUF DEM PITOP =====
# 3. Setup:
cd ~/LF7_project
python3 -m venv venv
source venv/bin/activate
# --> Jetzt siehst du: (venv) pi@pi-top:~/LF7_project $

# 4. Installiere Pakete (IM venv!):
pip3 install RPi.GPIO python-dotenv requests

# 4. Test:
python3 config.py
python3 files..
_______________________


Besser:? (auf Pi Top)

cd ~/LF7_project
rm -rf venv

# 2. Installiere zuerst python3-venv (falls nicht vorhanden):
sudo apt update
sudo apt install python3-venv python3-full -y

# 3. Erstelle ein neues Virtual Environment:
python3 -m venv venv

# 4. Aktiviere es RICHTIG:
source venv/bin/activate